<html>
<head>
	<title>lunix.se</title>
	<style>
		body {
			background-color: #000000;
			font-family: monospace;
		}
		#trigOutput {
			display: block;
			margin: 0 auto;
			z-index: 0;
		}
		#piOutput {
			color: #808080;
			font-size: 12px;
			position: absolute;
			top: 10%;
			left: 50%;
			z-index: 10;
		}
		#tauOutput {
			color: white;
			font-size: 16px;
			position: absolute;
			top: 30%;
			left: 40%;
			z-index: 10;
		}
	</style>
</head>
<body>
	<canvas id="trigOutput" width=600, height=200></canvas>
	<div id="piOutput"></div>
	<div id="tauOutput"></div>
	<script>
		var piAlgo = function () {
			var pi = 0,
				i = -1,
				c = -4;

				return function () {
					pi += (c = -c) / (i += 2);
					return pi;
				};
			}(),

			piOut = function () {
				var out = document.getElementById("piOutput"),
					step = 10,
					i = 0;

				return function () {
					console.log("called")
					for (i = 0; i < step-1; i++) {
						piAlgo();
					}
					out.innerHTML = piAlgo();
				};
			}(),

			tauAlgo = function () {
				var tau = 0,
					i = -1,
					c = -8;

					return function () {
						tau += (c = -c) / (i += 2);
						return tau;
					};
				}(),

			tauOut = function () {
				var out = document.getElementById("tauOutput"),
					step = 10,
					i = 0;

				return function () {
					for (i = 0; i < step-1; i++) {
						tauAlgo();
					}
					out.innerHTML = tauAlgo();
				};
			}(),

			sinAlgo = function () {
				var i = 0.01,
					val = 0;

				return function () {
					i += 0.01;
					val = Math.sin(i);
					console.log(val);
					return val;
				};
			}(),

			sinOut = function () {
				var out = document.getElementById("trigOutput").getContext("2d"),
					i = 0;

				return function () {
					if (i >= 599) i = 0;
					i += 1;
					out.fillStyle = "#408010";
					out.fillRect(i, (sinAlgo() * 80) + 100, 1, 1);
					out.fillStyle = "rgba(0, 0, 0, 0.005)";
					out.fillRect(0, 0, 600, 200);


				};
			}(),

			tanAlgo = function () {
				var i = 1.5708,
					val = 0;

				return function () {
					i += 0.01;
					val = Math.tan(i);
					console.log(val);
					return val;
				};
			}(),

			tanOut = function () {
				var out = document.getElementById("trigOutput").getContext("2d"),
					i = 100;

				return function () {
					if (i >= 599) i = 0;
					i += 1;
					out.fillStyle = "#804010";
					tanAlgo();
					out.fillRect(i, (tanAlgo() * 30) + 100, 1, 1);


				};
			}();

			sawAlgo = function () {
				var i = 0.01,
					val = 0;

				return function () {
					i += 0.01;
					val = i - Math.floor(i);
					console.log(val);
					return val;
				};
			}(),

			sawOut = function () {
				var out = document.getElementById("trigOutput").getContext("2d"),
					i = 200;

				return function () {
					if (i >= 599) i = 0;
					i += 1;
					out.fillStyle = "#303030";
					out.fillRect(599 - i, (sawAlgo() * 30) + 100, 1, 1);


				};
			}();


		(function o () {
			piOut();
			tauOut();
			sinOut();
			tanOut();
			sawOut();

			window.setTimeout(function () {o();}, 33);
		}());
	</script>
</body>
</html>